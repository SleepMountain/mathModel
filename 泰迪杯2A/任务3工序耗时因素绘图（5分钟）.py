import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

plt.rcParams['font.sans-serif'] = ['SimHei']
plt.rcParams['axes.unicode_minus'] = False

# 新数据
data = {
    '推出平均耗时': [1, 0.162, 0.109, 0.162, 0.068, 0.328, 0.122, 0.276],
    '抓取平均耗时': [0.162, 1, 0.05, 0.988, 0.038, 0.116, 0.039, 0.065],
    '安装平均耗时': [0.109, 0.05, 1, 0.026, 0.365, -0.012, -0.005, -0.007],
    '检测平均耗时': [0.162, 0.988, 0.026, 1, 0.036, 0.114, 0.038, 0.064],
    'A1错误出现次数': [0.068, 0.038, 0.365, 0.036, 1, -0.043, -0.016, -0.026],
    'A2错误出现次数': [0.328, 0.116, -0.012, 0.114, -0.043, 1, -0.048, -0.08],
    'A3错误出现次数': [0.122, 0.039, -0.005, 0.038, -0.016, -0.048, 1, -0.03],
    'A4错误出现次数': [0.276, 0.065, -0.007, 0.064, -0.026, -0.08, -0.03, 1]
}

# 创建DataFrame
df = pd.DataFrame(data, index=['推出平均耗时', '抓取平均耗时', '安装平均耗时', '检测平均耗时', 'A1错误出现次数', 'A2错误出现次数', 'A3错误出现次数', 'A4错误出现次数'])

# 绘制热力图
plt.figure(figsize=(10, 8))
sns.heatmap(df, annot=True, fmt=".3f", cmap='coolwarm', cbar_kws={'label': '相关系数'})
plt.title('各项指标之间的相关性 (平均值)')
plt.show()