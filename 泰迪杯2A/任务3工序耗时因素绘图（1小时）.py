import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

plt.rcParams['font.sans-serif'] = ['SimHei']
plt.rcParams['axes.unicode_minus'] = False

# 新数据
data = {
    '推出错误出现次数': [1, -0.172, -0.06, -0.108, 0.933, -0.166, -0.068, -0.112],
    '抓取错误出现次数': [-0.172, 1, -0.188, -0.299, -0.16, 0.904, -0.168, -0.299],
    '安装错误出现次数': [-0.06, -0.188, 1, -0.14, -0.068, -0.181, 0.896, -0.135],
    '检测错误出现次数': [-0.108, -0.299, -0.14, 1, -0.1, -0.316, -0.151, 0.892],
    'A1错误出现次数': [0.933, -0.16, -0.068, -0.1, 1, -0.155, -0.074, -0.109],
    'A2错误出现次数': [-0.166, 0.904, -0.181, -0.316, -0.155, 1, -0.17, -0.324],
    'A3错误出现次数': [-0.068, -0.168, 0.896, -0.151, -0.074, -0.17, 1, -0.152],
    'A4错误出现次数': [-0.112, -0.299, -0.135, 0.892, -0.109, -0.324, -0.152, 1]
}

# 创建DataFrame
df = pd.DataFrame(data, index=['推出平均耗时', '抓取平均耗时', '安装平均耗时', '检测平均耗时', 'A1错误出现次数', 'A2错误出现次数', 'A3错误出现次数', 'A4错误出现次数'])

# 绘制热力图
plt.figure(figsize=(10, 8))
sns.heatmap(df, annot=True, fmt=".3f", cmap='coolwarm', cbar_kws={'label': '相关系数'})
plt.title('各项指标之间的相关性 (平均值)')
plt.show()